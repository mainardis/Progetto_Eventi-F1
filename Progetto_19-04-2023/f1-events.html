<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>F1-Calendar</title>
    <link href="Css_F1.css" rel="stylesheet" type="text/css">
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">  
</head>
<body>
    <p class="pLogo">
        <img src="Immagini/Home/logo.png" alt="LOGO" class="logo">
    </p>

    <p></p>

    <div id="calendario" clas="cal">
        <button id="button_in">INDIETRO</button>
        <button id="button_av">AVANTI</button>


        <p id=""></p>

        <div>
            <fieldset class="divorizzontale">
                <legend id="round"></legend>      
                <table class="table">
                    <thead class="thead-dark">
                      <tr>
                        <th scope="col"></th>
                        <th scope="col">Location</th>
                        <th scope="col">Inizio</th>
                        <th scope="col">Fine</th>

                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"></th>
                        <td id="eventoHtml"></td>
                        <td id="inizio"></td>
                        <td id="fine"></td>
                      </tr>
                    </tbody>
                  </table>  
                  <img src="Immagini/Circuiti/Round15.png" class="rounded mx-auto d-block" alt="team">
            </fieldset>   
                 
        </div>
        

    </div>

    <script>
        var myHeaders = new Headers();
        myHeaders.append("Authorization", "token 6ec8b83a-5836-4544-ad66-12936806fc9e");

        var requestOptions = {
        method: 'GET',
        headers: myHeaders,
        redirect: 'follow'
        };

        fetch("https://events.abattaglia.it/api/event/list", requestOptions)
            //.then(response => response.text())
            //.then(result => console.log(result))
            //.catch(error => console.log('error', error));



        let avanti = document.getElementById("button_av");
        let indietro = document.getElementById("button_in");
        let eventoHtml = document.getElementById("eventoHtml");
        let round = document.getElementById("round");
        let inizio = document.getElementById("inizio");
        let fine = document.getElementById("fine");

        


        avanti.addEventListener("click", e => {
            fetch("https://events.abattaglia.it/api/event/list", requestOptions)
                .then((response) =>  response.json())
                        .then((output) => {  
                            console.log(output);
                            console.log(output[0].location);
                            eventoHtml.innerHTML = output[0].location;
                            round.innerHTML = output[0].title;
                            inizio.innerHTML = output[0].startsAt;//.split(0,4);
                            fine.innerHTML = output[0].endsAt;
                            

                        })
        })

        
        


        const id = ["8bddd095-5511-489a-afaf-251f916c1610", //1
                    "6bb2c081-9392-4bad-83de-38eec1ad1774",
                    "52bc2f51-9f43-43d5-9411-f124ca86beb7",
                    "c02acd9a-dc3e-4b72-aa5f-29c445f112e0",
                    "834fcb9c-4037-433f-b49b-800b87764b3b", //5
                    "1e331b06-3088-45a4-9bd2-ff4706720e91",
                    "5b7fca55-c4e0-4490-85a5-ff041de8feb6",
                    "a469b916-6450-4798-a949-da3532c82884",
                    "fe44e30a-7896-49df-859e-2d8cc5121a6f", 
                    "22760f98-eb51-4ee5-a943-1fd003f36548", //10
                    "c667b83f-56c0-4c93-9e3c-d5c42170920f",
                    "83080ed6-906f-41fd-b960-335b54663e06",
                    "a349c0da-3ad9-44d5-bb19-9faff33eaeca",
                    "394eeb23-69cc-470f-a9b0-d87d1c0c79a5",
                    "015a239c-3a56-49e3-9862-f3c8032eddd6", //15
                    "a2bf6c25-9ed9-452a-838d-a1e1b9285000",
                    "93dd8ec8-45a3-4034-a8de-4e7ba085c8bc",
                    "2db5c72a-10cd-44b9-8212-fe8d211f3a4a",
                    "93aeb227-bc4b-401f-afe4-eab5497ff2d9",
                    "c2e32dc1-6715-4349-b54b-c15d5511b3a4", //20
                    "9d72a9fd-d065-4cfc-b9ab-0c954fe67d72",
                    "e9ade669-e6d9-4961-9240-60c48523709c",
                    "bd4f68e8-c981-49ed-b9d2-8047f9f7552f"
                ];
        
        
    </script>
</body>
</html>